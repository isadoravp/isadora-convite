<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convite 15 Anos</title>

<style>
:root{
  --azul:#1f3f73;
  --roxo:#4a3b6e;
  --vermelho:#7a2c2c;
  --dourado:#f2c94c;
}

html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
}

/* FUNDO */
body{
  background:
    linear-gradient(
      45deg,
      var(--azul) 0%,
      var(--roxo) 35%,
      var(--vermelho) 65%,
      #c98b2b 100%
    );
  position:relative;
}

/* TEXTURA */
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.04), transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.03), transparent 45%);
  pointer-events:none;
}

/* PARTÍCULAS */
#particles{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  z-index:1;
}

.spark{
  position:absolute;
  top:-10px;
  width:4px;
  height:4px;
  background:var(--dourado);
  border-radius:50%;
  opacity:.9;
  box-shadow:0 0 8px var(--dourado);
  animation:fall linear forwards;
}

@keyframes fall{
  to{
    transform:translateY(110vh);
    opacity:0;
  }
}

/* =========================
   CARTA
========================= */

.carta-container{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:320px;
  max-width:80vw;
  cursor:pointer;
  z-index:2;
}

.carta-container img{
  width:100%;
  display:block;
  position:absolute;
  top:0;
  left:0;
  transition:opacity 1.4s ease, transform 1.6s ease;
}

.carta-aberta{
  opacity:0;
  transform:scale(0.95);
}

.carta-container.aberta .carta-fechada{
  opacity:0;
  transform:scale(0.9);
}

.carta-container.aberta .carta-aberta{
  opacity:1;
  transform:scale(1);
}

/* FUMAÇA */
.fumaca{
  position:absolute;
  bottom:20%;
  left:50%;
  width:140px;
  opacity:0;
  transform:translateX(-50%);
  pointer-events:none;
}

.carta-container.aberta .fumaca{
  animation:fumaça 3.2s ease-out forwards;
}

@keyframes fumaça{
  0%{
    opacity:0;
    transform:translate(-50%,20px) scale(0.6);
  }
  30%{
    opacity:.8;
  }
  100%{
    opacity:0;
    transform:translate(-50%,-160px) scale(1.3);
  }
}

  /* =========================
   FUMAÇA EM CSS (PARTÍCULAS)
========================= */

.fumaca-container{
  position:absolute;
  inset:0;
  pointer-events:none;
  overflow:visible;
}

.smoke{
  position:absolute;
  bottom:22%;
  left:50%;
  width:40px;
  height:40px;
  background:rgba(255,255,255,0.45);
  border-radius:50%;
  filter:blur(18px);
  animation:smokeUp 3.5s ease-out forwards;
}

@keyframes smokeUp{
  0%{
    transform:translate(-50%,0) scale(0.6);
    opacity:0;
  }
  15%{
    opacity:.8;
  }
  100%{
    transform:
      translate(
        calc(-50% + var(--x)),
        -180px
      )
      scale(1.5);
    opacity:0;
  }
}
  
</style>
</head>

<body>

<!-- Partículas -->
<div id="particles"></div>

<!-- Carta -->
<div class="carta-container" id="carta">
  <img src="assets/carta-fechada.png" class="carta-fechada" alt="">
  <img src="assets/carta-aberta.png" class="carta-aberta" alt="">
  <div class="fumaca-container" id="fumaca"></div>
</div>

<script>
const carta = document.getElementById('carta');
const fumaca = document.getElementById('fumaca');

carta.addEventListener('click', () => {
  carta.classList.add('aberta');

  // gerar partículas de fumaça
  for(let i=0;i<22;i++){
    setTimeout(()=>{
      const s = document.createElement('div');
      s.className = 'smoke';
      s.style.setProperty('--x', `${Math.random()*120 - 60}px`);
      s.style.width = s.style.height = 30 + Math.random()*40 + 'px';
      fumaca.appendChild(s);
      setTimeout(()=>s.remove(),4000);
    }, i*120);
  }

  setTimeout(()=>{
    window.location.href = 'convite.html';
  }, 3600);
});
</script>

</body>
</html>
