<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convite 15 Anos</title>

<style>
/* ================= VARI√ÅVEIS ================= */
:root{
  --azul:#1f3f73;
  --roxo:#4a3b6e;
  --vermelho:#7a2c2c;
  --dourado:#f2c94c;
}

/* ================= BASE ================= */
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
  font-family: Arial, sans-serif;
}

/* ================= CENA 1 ================= */
#scene1{
  position:fixed;
  inset:0;
  background:
    linear-gradient(
      45deg,
      var(--azul) 0%,
      var(--roxo) 35%,
      var(--vermelho) 65%,
      #c98b2b 100%
    );
  transition:opacity .6s ease;
  z-index:5;
}

#scene1.fade-out{
  opacity:0;
  pointer-events:none;
}

/* TEXTURA */
#scene1::after{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.04), transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.03), transparent 45%);
  pointer-events:none;
}

/* ================= CASTELO ================= */
.cenario-castelo{
  position:fixed;
  left:50%;
  bottom:16%;
  transform:translateX(-50%);
  width:125%;
  max-width:1400px;
  height:90vh;
  background:url("assets/castelo1.png") center bottom no-repeat;
  background-size:contain;
  opacity:0.95;
  pointer-events:none;
  filter:
    drop-shadow(0 60px 140px rgba(0,0,0,0.45))
    drop-shadow(0 0 120px rgba(120,170,255,0.28));
  mix-blend-mode:soft-light;
  -webkit-mask-image:
    radial-gradient(ellipse at center bottom, rgba(0,0,0,1) 0%, transparent 95%);
  mask-image:
    radial-gradient(ellipse at center bottom, rgba(0,0,0,1) 0%, transparent 95%);
}

/* ================= PART√çCULAS ================= */
#particles{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  z-index:2;
}

.spark{
  position:absolute;
  top:-10px;
  width:4px;
  height:4px;
  background:var(--dourado);
  border-radius:50%;
  box-shadow:0 0 8px var(--dourado);
  animation:fall linear forwards;
}

@keyframes fall{
  to{
    transform:translateY(110vh);
    opacity:0;
  }
}

/* ================= CARTA ================= */
.carta-container{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:320px;
  max-width:80vw;
  cursor:pointer;
  z-index:3;
}

.carta-container img{
  width:100%;
  position:absolute;
}

.carta-aberta{ opacity:0; }

.carta-container.aberta .carta-fechada{ opacity:0; }
.carta-container.aberta .carta-aberta{ opacity:1; }

/* ================= FUMA√áA ================= */
.fumaca-container{
  position:absolute;
  inset:0;
  pointer-events:none;
}

.smoke{
  position:absolute;
  bottom:13%;
  left:50%;
  border-radius:50%;
  animation:smokeUp 3.8s ease-out forwards;
  background:radial-gradient(circle, rgba(55,95,160,0.55), transparent);
  filter:blur(24px);
}

@keyframes smokeUp{
  to{
    transform:translate(-50%,-240px) scale(1.9);
    opacity:0;
  }
}

/* ================= GLITTER ================= */
.magic-glitter{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  background:radial-gradient(circle,#ffd700,transparent);
  animation:glitterUp 2.2s ease-out forwards;
}

@keyframes glitterUp{
  to{
    transform:translate(-50%,-140px);
    opacity:0;
  }
}

/* ================= CENA 2 ================= */
#scene2{
  position:fixed;
  inset:0;
  background:linear-gradient(45deg,#ffc900,rgba(168,51,33,.2),#00498e);
  display:none;
  align-items:center;
  justify-content:center;
}

#scene2.active{
  display:flex;
}

/* ================= MODAIS ================= */
.modal,.sub-modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:10;
  align-items:center;
  justify-content:center;
}

.modal-content,.sub-modal-content{
  background:#00498e;
  border-radius:14px;
  padding:22px;
  width:90%;
  max-width:420px;
}

.btn-modal{
  position:fixed;
  bottom:20px;
  right:20px;
  z-index:6;
}

/* ================= AUDIO ================= */
#audioOverlay{
  position:fixed;
  inset:0;
  z-index:9999;
}
</style>
</head>

<body>

<div id="audioOverlay"></div>
<audio id="bgMusic" loop muted>
  <source src="assets/audio/musica.mp3" type="audio/mpeg">
</audio>

<!-- ================= CENA 1 ================= -->
<div id="scene1">
  <div class="cenario-castelo"></div>
  <div id="particles"></div>

  <div class="carta-container" id="carta">
    <img src="assets/carta-fechada.png" class="carta-fechada">
    <img src="assets/carta-aberta.png" class="carta-aberta">
    <div class="fumaca-container" id="fumaca"></div>
  </div>
</div>

<!-- ================= CENA 2 ================= -->
<div id="scene2">
  <img src="assets/convite.png" class="carta">
  <button class="btn-modal">Informa√ß√µes</button>

  <div class="modal" id="modalPrincipal">
    <div class="modal-content">
      <span class="close" data-close="modalPrincipal">&times;</span>
      <button class="modal-button" id="dressCode">üëó Dress Code</button>
      <button class="modal-button" id="verRota">üìç Ver Rota</button>
      <button class="modal-button" id="confirmePresenca">‚úÖ Confirmar Presen√ßa</button>
      <button class="modal-button" id="presentear">üéÅ Presentear</button>
    </div>
  </div>

  <div class="sub-modal" id="modalDress">
    <div class="sub-modal-content">
      <span class="close" data-close="modalDress">&times;</span>
      <h3>C√≥digo de Vestimenta</h3>
      <ul>
        <li>Esporte fino</li>
        <li>Vestidos longos</li>
        <li>Ternos para rapazes</li>
        <li>Acess√≥rios elegantes</li>
      </ul>
    </div>
  </div>

  <div class="sub-modal" id="modalPresentes">
    <div class="sub-modal-content">
      <span class="close" data-close="modalPresentes">&times;</span>
      <h3>Lista de Presentes</h3>
      <ul>
        <li>Perfume</li>
        <li>Brinco / Colar / Pulseira</li>
        <li>Roupas Renner</li>
        <li>Acess√≥rios</li>
      </ul>
    </div>
  </div>
</div>

<script>
/* =====================
   FUMA√áA AZUL + GLITTER
===================== */

const carta = document.getElementById('carta');
const fumaca = document.getElementById('fumaca');

function criarFumaca(){
  const largura = carta.offsetWidth;

  /* FUMA√áA */
  for(let i=0;i<28;i++){
    setTimeout(()=>{
      const smoke = document.createElement('div');
      smoke.className = 'smoke';

      smoke.style.setProperty(
        '--x',
        `${Math.random()*largura/2 - largura/4}px`
      );

      const size = largura*0.12 + Math.random()*largura*0.18;
      smoke.style.width = size + 'px';
      smoke.style.height = size + 'px';
      smoke.style.opacity = 0.5 + Math.random()*0.3;

      fumaca.appendChild(smoke);

      setTimeout(()=>smoke.remove(),4200);
    }, i*110);
  }

  /* GLITTER */
  for(let i=0;i<20;i++){
    setTimeout(()=>{
      const g = document.createElement('div');
      g.className = 'magic-glitter';

      g.style.setProperty(
        '--gx',
        `${Math.random()*120 - 60}px`
      );

      fumaca.appendChild(g);
      setTimeout(()=>g.remove(),2200);
    }, i*140);
  }
}

/* DISPARA JUNTO COM A ABERTURA */
setTimeout(()=>{
  carta.classList.add('aberta');
  criarFumaca();
},1000);
/* ================= AUDIO ================= */
const audio=document.getElementById("bgMusic");
const overlay=document.getElementById("audioOverlay");
overlay.addEventListener("click",()=>{
  audio.muted=false;
  audio.play();
  overlay.remove();
});

/* ================= PART√çCULAS ================= */
setInterval(()=>{
  const s=document.createElement("div");
  s.className="spark";
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=4+Math.random()*4+"s";
  particles.appendChild(s);
  setTimeout(()=>s.remove(),9000);
},180);

/* ================= TRANSI√á√ÉO ================= */
setTimeout(()=>{
  document.getElementById("scene1").classList.add("fade-out");
  setTimeout(()=>{
    document.getElementById("scene1").style.display="none";
    document.getElementById("scene2").classList.add("active");
  },600);
},5200);

/* ================= MODAIS ================= */
document.querySelector(".btn-modal").onclick=()=>{
  modalPrincipal.style.display="flex";
};

document.getElementById("dressCode").onclick=()=>{
  modalDress.style.display="flex";
};

document.getElementById("presentear").onclick=()=>{
  modalPresentes.style.display="flex";
};

document.getElementById("verRota").onclick=()=>{
  window.open("https://maps.app.goo.gl/9Ujs9UPoccGrVMJb8","_blank");
};

document.getElementById("confirmePresenca").onclick=()=>{
  window.open("https://wa.me/5551992226662?text=Ol√°,%20confirmo%20minha%20presen√ßa%20no%20evento!","_blank");
};

document.querySelectorAll(".close").forEach(btn=>{
  btn.onclick=()=>document.getElementById(btn.dataset.close).style.display="none";
});
</script>

</body>
</html>
