<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meus 15</title>

<style>
:root{
  --azul:#1f3f73;
  --roxo:#4a3b6e;
  --vermelho:#7a2c2c;
  --dourado:#f2c94c;
}

html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
}

body{
  background:
    linear-gradient(
      45deg,
      var(--azul) 0%,
      var(--roxo) 35%,
      var(--vermelho) 65%,
      #c98b2b 100%
    );
  position:relative;
  font-family: 'Georgia', serif;
}

/* TEXTURA */
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.04), transparent 40%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.03), transparent 45%);
  pointer-events:none;
  z-index:-1;
}

/* CENÁRIO CASTELO / ESCADA */
.cenario-castelo{
  position:fixed;
  left:50%;
  bottom:16%;
  transform:translateX(-50%);
  width:125%;
  max-width:1400px;
  height:90vh;
  background:url("assets/castelo1.png") center bottom no-repeat;
  background-size:contain;
  opacity:0.95;
  z-index:0;
  pointer-events:none;
  filter:
    brightness(1.12)
    contrast(1.08)
    saturate(1.05)
    drop-shadow(0 50px 120px rgba(0,0,0,0.45))
    drop-shadow(0 0 160px rgba(130,180,255,0.45));
}

.cenario-castelo::after{
  content:"";
  position:absolute;
  inset:-12% -10% -5% -10%;
  background:
    radial-gradient(
      ellipse at center bottom,
      rgba(160,210,255,0.38) 0%,
      rgba(120,170,255,0.25) 30%,
      rgba(80,130,220,0.12) 55%,
      transparent 75%
    );
  filter:blur(48px);
  z-index:-1;
}

.nevoa-cenario{
  position:fixed;
  left:50%;
  bottom:0;
  transform:translateX(-50%);
  width:140%;
  height:70vh;
  background:
    radial-gradient(
      ellipse at center,
      rgba(40,70,130,0.35) 0%,
      rgba(30,55,110,0.28) 30%,
      rgba(20,40,90,0.18) 55%,
      rgba(15,30,70,0.1) 70%,
      transparent 90%
    );
  filter:blur(40px);
  z-index:1;
  pointer-events:none;
}

#particles{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  z-index:1;
}

.spark{
  position:absolute;
  top:-10px;
  width:4px;
  height:4px;
  background:var(--dourado);
  border-radius:50%;
  box-shadow:0 0 8px var(--dourado);
  animation:fall linear forwards;
}

@keyframes fall{
  to{
    transform:translateY(110vh);
    opacity:0;
  }
}

/* CARTA */
.carta-container{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:320px;
  max-width:80vw;
  cursor:pointer;
  z-index:2;
  filter:
    drop-shadow(0 18px 40px rgba(0,0,0,0.55))
    drop-shadow(0 0 22px rgba(180,220,255,0.35));
}

.carta-container img{
  width:100%;
  position:absolute;
  top:0;
  left:0;
  transition:opacity 1.4s ease, transform 1.6s ease;
}

.carta-aberta{
  opacity:0;
  transform:scale(0.95);
}

.carta-container.aberta .carta-fechada{
  animation:pulseGlow 2.8s ease-in-out forwards;
  opacity:0;
  transform:scale(0.9);
}

.carta-container.aberta .carta-aberta{
  animation:pulseGlow 2.8s ease-in-out forwards;
  opacity:1;
  transform:scale(1);
}

@keyframes pulseGlow{
  0%{
    filter:drop-shadow(0 0 0 rgba(180,220,255,0));
  }
  40%{
    filter:drop-shadow(0 0 28px rgba(180,220,255,0.8));
  }
  100%{
    filter:drop-shadow(0 0 12px rgba(180,220,255,0.4));
  }
}

.fumaca-container{
  position:absolute;
  inset:0;
  pointer-events:none;
}

.smoke{
  position:absolute;
  bottom:13%;
  left:50%;
  border-radius:50%;
  animation:smokeUp 3.8s ease-out forwards;
  background:radial-gradient(
    circle,
    rgba(55,95,160,0.55) 0%,
    rgba(40,75,140,0.38) 35%,
    rgba(25,50,105,0.22) 60%,
    rgba(15,30,70,0.08) 100%
  );
  filter:blur(24px);
  box-shadow:
    0 0 26px rgba(70,120,200,0.45),
    0 0 58px rgba(50,90,160,0.25);
}

@keyframes smokeUp{
  0%{
    transform:translate(-50%,0) scale(0.6);
    opacity:0;
  }
  25%{
    opacity:.95;
  }
  100%{
    transform:translate(calc(-50% + var(--x)),-240px) scale(1.9);
    opacity:0;
  }
}

.carta-container.aberta .smoke{
  animation:smokeUp 3.8s ease-out forwards, smokeGlow 1.8s ease-in-out infinite alternate;
}

@keyframes smokeGlow{
  from{
    filter:blur(24px) brightness(1);
    box-shadow:0 0 18px rgba(60,100,180,0.25), 0 0 36px rgba(40,80,150,0.15);
  }
  to{
    filter:blur(26px) brightness(1.22);
    box-shadow:0 0 32px rgba(90,140,220,0.55), 0 0 60px rgba(70,120,200,0.35);
  }
}

.magic-glitter{
  position:absolute;
  width:6px;
  height:6px;
  bottom:15%;
  left:50%;
  border-radius:50%;
  background:radial-gradient(circle,#fff6c7 0%,#ffd700 45%,rgba(255,215,0,0.3) 70%,transparent 100%);
  filter:blur(1px);
  box-shadow:0 0 14px rgba(255,215,120,0.9);
  animation:glitterUp 2.2s ease-out forwards;
}

@keyframes glitterUp{
  0%{
    opacity:0;
    transform:translate(-50%,10px) scale(0.5);
  }
  30%{ opacity:1; }
  100%{
    opacity:0;
    transform:translate(calc(-50% + var(--gx)),-140px) scale(1.3);
  }
}

#audioOverlay{
  position: fixed;
  inset: 0;
  z-index: 9999;
  cursor: pointer;
}
</style>
</head>

<body>
<div id="audioOverlay"></div>
<div class="cenario-castelo"></div>
<div class="nevoa-cenario"></div>
<div id="particles"></div>
<div class="carta-container" id="carta">
  <img src="assets/carta-fechada.png" class="carta-fechada" alt="">
  <img src="assets/carta-aberta.png" class="carta-aberta" alt="">
  <div class="fumaca-container" id="fumaca"></div>
</div>

<script>
const music = new Audio('assets/audio/musica.mp3');
music.loop = true;
music.volume = 0.5;

const overlay = document.getElementById("audioOverlay");

function startMusic(){
  music.play();
  overlay.remove();
}

overlay.addEventListener("click", startMusic, { once: true });
overlay.addEventListener("touchstart", startMusic, { once: true });

/* ... SEU JS DE PARTICULAS, CARTA, FUMAÇA ... */

// IR PARA PÁGINA 2
setTimeout(() => {
  // salva o ponto atual da música
  localStorage.setItem('musicTime', music.currentTime);
  window.location.href = 'convite.html';
}, 5200);
</script>
</body>
</html>
