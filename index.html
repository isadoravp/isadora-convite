<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convite 15 Anos</title>

<style>
/* ================= VARIÁVEIS ================= */
:root{
  --azul:#1f3f73;
  --roxo:#4a3b6e;
  --vermelho:#7a2c2c;
  --dourado:#f2c94c;
}

/* ================= BASE ================= */
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
  font-family: Georgia, serif;
}

/* ================= SEÇÕES ================= */
section{
  position:fixed;
  inset:0;
  transition:opacity 1.2s ease;
}

.hidden{
  opacity:0;
  pointer-events:none;
}

/* ================= PAGE 1 ================= */
#page1{
  background:linear-gradient(
    45deg,
    var(--azul),
    var(--roxo),
    var(--vermelho),
    #c98b2b
  );
}

/* CASTELO */
.cenario-castelo{
  position:fixed;
  left:50%;
  bottom:16%;
  transform:translateX(-50%);
  width:125%;
  height:90vh;
  background:url("assets/castelo1.png") center bottom no-repeat;
  background-size:contain;
  filter:
    brightness(1.15)
    drop-shadow(0 60px 140px rgba(0,0,0,.5));
  pointer-events:none;
}

/* PARTÍCULAS */
#particles1, #particles2{
  position:fixed;
  inset:0;
  pointer-events:none;
}

.spark{
  position:absolute;
  width:4px;
  height:4px;
  background:var(--dourado);
  border-radius:50%;
  box-shadow:0 0 8px var(--dourado);
  animation:fall linear forwards;
}

@keyframes fall{
  to{ transform:translateY(120vh); opacity:0; }
}

/* CARTA */
.carta-container{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:320px;
  cursor:pointer;
  z-index:5;
}

.carta-container img{
  width:100%;
  position:absolute;
  transition:opacity 1.4s, transform 1.4s;
}

.carta-aberta{ opacity:0; }

.carta-container.aberta .carta-fechada{
  opacity:0;
  transform:scale(.9);
}

.carta-container.aberta .carta-aberta{
  opacity:1;
  transform:scale(1);
}

/* FUMAÇA */
.fumaca-container{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:10; /* acima da carta */
  overflow:visible;
}

.smoke{
  position:absolute;
  bottom:18%;
  left:50%;
  width:80px;
  height:80px;
  border-radius:50%;
  outline:1px solid rgba(255,255,255,0.15);
  background:radial-gradient(
    circle,
    rgba(90,140,255,0.85) 0%,
    rgba(60,110,220,0.55) 35%,
    rgba(30,70,160,0.25) 60%,
    transparent 75%
  );

  filter:blur(18px);
  opacity:0;

  animation:smokeUp 4.2s ease-out forwards;
}

@keyframes smokeUp{
  0%{
    transform:translate(-50%,20px) scale(0.5);
    opacity:0;
  }
  25%{
    opacity:1;
  }
  100%{
    transform:
      translate(
        calc(-50% + var(--x)),
        -260px
      )
      scale(2);
    opacity:0;
  }
}
/* ================= PAGE 2 ================= */
#page2{
  background:linear-gradient(
    45deg,
    #ffc900,
    rgba(168,51,33,.2),
    #00498e
  );
  display:flex;
  align-items:center;
  justify-content:center;
}

.carta-final{
  max-width:88%;
  max-height:88%;
  cursor:pointer;
  z-index:2;
}

/* BOTÃO */
.btn-modal{
  position:fixed;
  bottom:20px;
  right:20px;
  padding:14px 20px;
  border:none;
  border-radius:10px;
  background:#f17ea1;
  color:#fff;
  z-index:10;
  cursor:pointer;
}

/* MODAIS */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:20;
  align-items:center;
  justify-content:center;
}

.modal-content{
  background:#00498e;
  padding:22px;
  border-radius:14px;
  width:90%;
  max-width:420px;
}

.close{
  font-size:24px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- ================= ÁUDIO ÚNICO ================= -->
<audio id="bgMusic" src="assets/audio/musica.mp3" loop></audio>
<div id="audioOverlay" style="position:fixed;inset:0;z-index:9999"></div>

<!-- ================= PAGE 1 ================= -->
<section id="page1">
  <div class="cenario-castelo"></div>
  <div id="particles1"></div>

  <div class="carta-container" id="carta">
    <img src="assets/carta-fechada.png" class="carta-fechada">
    <img src="assets/carta-aberta.png" class="carta-aberta">
    <div class="fumaca-container" id="fumaca"></div>
  </div>
</section>

<!-- ================= PAGE 2 ================= -->
<section id="page2" class="hidden">
  <div id="particles2"></div>
  <img src="assets/convite.png" class="carta-final">
  <button class="btn-modal" id="btnInfo">Informações</button>
</section>

<!-- ================= MODAL ================= -->
<div class="modal" id="modal">
  <div class="modal-content">
    <span class="close" id="closeModal">&times;</span>
    <p>Conteúdo do convite</p>
  </div>
</div>

<script>
/* ================= MÚSICA ================= */
const audio = document.getElementById("bgMusic");
audio.volume = .5;

document.getElementById("audioOverlay").onclick = () => {
  audio.play();
  document.getElementById("audioOverlay").remove();
};

/* ================= PARTÍCULAS ================= */
function startParticles(container){
  setInterval(()=>{
    const s=document.createElement("div");
    s.className="spark";
    s.style.left=Math.random()*100+"vw";
    s.style.animationDuration=4+Math.random()*4+"s";
    container.appendChild(s);
    setTimeout(()=>s.remove(),8000);
  },180);
}

startParticles(document.getElementById("particles1"));
startParticles(document.getElementById("particles2"));

/* ================= CARTA + FUMAÇA ================= */
const carta=document.getElementById("carta");
const fumaca=document.getElementById("fumaca");

setTimeout(()=>{
  carta.classList.add("aberta");
  fumaca.classList.add("fumaca");

  for(let i=0;i<28;i++){
  setTimeout(()=>{
    const s=document.createElement("div");
    s.className="smoke";
    s.style.setProperty("--x", (Math.random()*180 - 90) + "px");

    const size = 60 + Math.random()*60;
    s.style.width = s.style.height = size + "px";

    fumaca.appendChild(s);

    setTimeout(()=>s.remove(),4500);
  }, i*110);
}


/* ================= TRANSIÇÃO ================= */
setTimeout(()=>{
  document.getElementById("page1").classList.add("hidden");
  document.getElementById("page2").classList.remove("hidden");
},5200);

/* ================= MODAL ================= */
document.getElementById("btnInfo").onclick=()=>{
  document.getElementById("modal").style.display="flex";
};
document.getElementById("closeModal").onclick=()=>{
  document.getElementById("modal").style.display="none";
};
</script>

</body>
</html>
